# قائمة التحقق لنشر مشروع قرطبة للتوريدات

## ✅ قبل النشر

### المتطلبات الأساسية
- [ ] خادم يدعم Node.js 18+ و PostgreSQL 13+
- [ ] صلاحيات المدير على الخادم
- [ ] اتصال إنترنت مستقر
- [ ] نسخة احتياطية من البيانات الحالية

### ملفات المشروع
- [ ] تحميل جميع ملفات المشروع من Replit
- [ ] التأكد من وجود ملف package.json
- [ ] التأكد من وجود ملفات الإعداد (drizzle.config.ts, vite.config.ts)
- [ ] نسخ ملفات client/ و server/ و shared/

## 🛠️ خطوات التثبيت

### إعداد البيئة
- [ ] تثبيت Node.js على الخادم
- [ ] تثبيت PostgreSQL على الخادم
- [ ] تثبيت Git (اختياري)
- [ ] تثبيت PM2 للإدارة المتقدمة

### إعداد قاعدة البيانات
- [ ] إنشاء قاعدة بيانات qortoba_supplies
- [ ] إنشاء مستخدم qortoba_user
- [ ] منح الصلاحيات المطلوبة
- [ ] اختبار الاتصال

### إعداد المشروع
- [ ] رفع ملفات المشروع إلى الخادم
- [ ] إنشاء ملف .env من النموذج
- [ ] تعديل إعدادات قاعدة البيانات في .env
- [ ] تشغيل npm install
- [ ] تشغيل npm run build
- [ ] تشغيل npm run db:push

### اختبار النظام
- [ ] اختبار الاتصال بقاعدة البيانات: `node test-db.js`
- [ ] تشغيل التطبيق للاختبار: `npm run dev`
- [ ] فتح الموقع في المتصفح
- [ ] اختبار تسجيل الدخول
- [ ] اختبار إنشاء طلب عرض أسعار

## 🚀 النشر الفعلي

### تشغيل الإنتاج
- [ ] إيقاف خادم التطوير
- [ ] تشغيل في بيئة الإنتاج: `npm start`
- [ ] أو استخدام PM2: `pm2 start npm -- start`
- [ ] التأكد من تشغيل التطبيق على المنفذ الصحيح

### إعداد الخدمة
- [ ] إعداد PM2 للتشغيل التلقائي
- [ ] إنشاء خدمة systemd (Linux)
- [ ] اختبار إعادة تشغيل الخادم

## 🌐 إعداد الويب سيرفر

### Nginx (موصى به)
- [ ] تثبيت Nginx
- [ ] إعداد reverse proxy
- [ ] اختبار إعدادات Nginx
- [ ] تفعيل الموقع

### الأمان
- [ ] إعداد Firewall للمنافذ المطلوبة فقط
- [ ] تأمين PostgreSQL
- [ ] إعداد SSL/HTTPS (للمواقع العامة)
- [ ] تغيير كلمات المرور الافتراضية

## 📊 نقل البيانات

### تصدير من Replit
- [ ] تسجيل دخول كمسؤول تقنية
- [ ] إنشاء نسخة احتياطية كاملة
- [ ] تحميل ملف .sql

### استيراد إلى الخادم الجديد
- [ ] نسخ ملف النسخة الاحتياطية
- [ ] استيراد البيانات: `psql -U qortoba_user -d qortoba_supplies -f backup.sql`
- [ ] التحقق من اكتمال البيانات

## 🔧 ما بعد النشر

### المراقبة
- [ ] إعداد مراقبة الأداء
- [ ] إعداد تنبيهات الأخطاء
- [ ] مراقبة استخدام الموارد
- [ ] اختبار جميع الوظائف

### النسخ الاحتياطية
- [ ] إعداد النسخ الاحتياطية التلقائية
- [ ] اختبار استعادة النسخة الاحتياطية
- [ ] جدولة النسخ الاحتياطية اليومية

### الصيانة
- [ ] إعداد تحديثات الأمان التلقائية
- [ ] جدولة صيانة دورية
- [ ] توثيق إجراءات الصيانة

## 🧪 اختبار شامل بعد النشر

### وظائف المستخدمين
- [ ] تسجيل الدخول والخروج
- [ ] إنشاء طلب عرض أسعار جديد
- [ ] استيراد البيانات من Excel
- [ ] إضافة بنود جديدة
- [ ] تسعير الموردين
- [ ] تسعير العملاء
- [ ] إنشاء أمر شراء
- [ ] إدارة العملاء والموردين

### وظائف الإدارة
- [ ] إدارة المستخدمين
- [ ] عرض الإحصائيات
- [ ] عرض سجل الأنشطة
- [ ] إنشاء نسخة احتياطية
- [ ] تصدير البيانات

### الأداء
- [ ] سرعة تحميل الصفحات
- [ ] استجابة قاعدة البيانات
- [ ] استهلاك الذاكرة
- [ ] استهلاك المعالج

## 🆘 استكشاف الأخطاء

### مشاكل شائعة
- [ ] خطأ اتصال قاعدة البيانات
- [ ] المنفذ مشغول
- [ ] مشاكل الصلاحيات
- [ ] خطأ في البناء
- [ ] مشاكل الذاكرة

### أدوات التشخيص
- [ ] فحص سجلات التطبيق
- [ ] فحص سجلات قاعدة البيانات
- [ ] فحص سجلات النظام
- [ ] مراقبة الموارد

## 📞 معلومات الدعم

### للمساعدة في حل المشاكل
- إصدار Node.js: `node --version`
- إصدار PostgreSQL: `psql --version`
- حالة PM2: `pm2 status`
- مساحة القرص: `df -h`
- الذاكرة: `free -h`
- سجلات التطبيق: `pm2 logs qortoba-supplies`

---

## ✅ علامة إكمال النشر

عند إكمال جميع العناصر أعلاه، يكون مشروع قرطبة للتوريدات جاهزاً للاستخدام في بيئة الإنتاج!

**تاريخ النشر:** ___________
**الخادم:** ___________
**المسؤول:** ___________